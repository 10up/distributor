language: php
php:
- 7.2
env:
  global:
  - WP_VERSION=master
  - WP_VERSION=4.7
  - secure: jGzivdUgcmfkApCbxPX/c8xlWUqshyc4nbyZ3DkiuZSWl2BZnGH/XrJpcigmSeemCaO57vfCZKHAzVA9X1oEPu6TeiJmhghBFd7HuaIUYBqEuVXx5NSCpA2yKmwhBxdKATLiK3F1vrf1E1cGBdyDqho2tlR/ltjdUX9/TsIRhYPNkt5pPVnnrUL773The+mmiA2pFHSFdPhyojtk1LQBZEQ9UPJlpAQ4ovPJaQwjODEMvvVBER+1T8NhtJIkqt/lQj0IXjjVqElWvqWa0jXOzZkWXw3LrHGsnHoBgTWPyLc3LBpvmkMggBhKPFhwKhFDsreaICTgQUZjtwnF+RqM0JYSObLvGuSYlk5T1v0yZguBqU11uxiM4/RHNquairjIEcxpA2Rxd4zBqqkWf0fDvhmNfRP+orn5QkWdlbnLONLLKkk0Tjt+FJ4oXR54YvvQ/GJ6kOPcKd3zVMI/eMPs14mQ6lEzLV53TPXdiuOBuDUYn0X0Db7sCePGQrwgjYOwXktepYSWJZfIJrbiWP7JPjrE2N+T7QAhm4QcnqYfTNR8D27MuMFyjhjE9BJ19KUYA55TjYebeRzWczTU+7WSw7qpf8SI+p/PS4RJcKR+5s2bs+85l4+hcmX8Iyq/62nDMiQk4Sat0MBSyLL5LtFFXRSoX+CpDKsbuoggTfvBgWg=
  - secure: H8JgGxIF63YJQDvN0VEGnjPT9qHJqTbJV4zwwLKsizmXB7hhGkNYMYM0hqikCeEPcsEeTtNR3fWyaapOSYR7th9qUXuovhUpxJMFEMcG9XkVsIzT4s6BO3UsPYcMfidKNFL1NPNFBtCWYBBmQMImYJlltBhpqwweOrut5NxMr8CjZI9rcbPNYzV7XmLyRG2vKC2sJB7efPMFMGTh2b+/5AHJMiueVSkU2/9movQYWnTeBDdBT7AWZaYzcqubPBouXitIXAcWj9IlTXi8/OrgEvSe6xquHJPJChMeHMIlEMwRygxFaGi2QrPg5B9LaymSlBUfsxmzMq3vewahStr2wZXlDkKpxUrEl8qrVcUkYtjEHfXoa70ScwYwUFZP/7LbLteX2ckdvNRiQJXuiNpbLGXJdKPaqujkXsSWMs5wCTUDR330qkT936l2JtYC5jzgvrl3yCpEknu7gl8MkKRuG5TQARgaUWereNpbPDX0u2Q4ouq6R1RgutGuY50coHIIKPPEInMM2n6HjhLG7/xs9ItaIoQutH2Vs9iiNj90Alx5vFNJZmu6qWHWHMfEbSWCFwl+bz7JHDp3NmFzQGFNjXczIvxxfrxZrZLdmXCIB0zpBOnv6ypUXPRKIWGe/gV5RWDmAoXdVjTiVQLdxyiR7qo+JIUAONKra3Ut9QrAbm4=
before_script:
- composer install
script:
- ./vendor/bin/wpsnapshots configure 10up --aws_key=$AWS_ACCESS_KEY --aws_secret=$SECRET_ACCESS_KEY --user_name=Travis --user_email=travis@10up.com
- ./vendor/bin/wpassure run
- composer run-script lint
- ./vendor/bin/phpunit
cache:
  directories:
  - vendor/
notifications:
  email: false
sudo: required
services: docker
